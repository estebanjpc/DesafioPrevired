<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout/layout :: head"></head>

<body class="d-flex flex-column min-vh-100">

	<header th:replace="layout/layout :: header"></header>

	<div class="container py-4 overflow-scroll">

		<div class="row mb-3">
			<div class="col text-center">
				<h3 th:text="${titulo}">
					<h3>
			</div>
		</div>
		<br>
		<form id="idForm" th:action="@{/guardarTrabajador}" th:object="${trabajador}" method="post">
			<div class="row g-0 justify-content-center">
				<div class="form-group row justify-content-center mb-1">
					<label class="col-sm-2 form-label">Rut</label>
					<div class="col-sm-3">
						<input th:field="*{rut}" type="text" class="form-control form-control-sm" th:errorclass="'alert-danger'" />
						<small class="form-text text-danger" th:if="${#fields.hasErrors('rut')}" th:errors="*{rut}"></small>
					</div>
				</div>
				<div class="form-group row justify-content-center mb-1">
					<label class="col-sm-2 form-label">Nombre</label>
					<div class="col-sm-3">
						<input th:field="${trabajador.nombre}" type="text" class="form-control form-control-sm" th:errorclass="'alert-danger'" />
						<small class="form-text text-danger" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></small>
					</div>
				</div>
				<div class="form-group row justify-content-center mb-1">
					<label class="col-sm-2 form-label">Apellido Paterno</label>
					<div class="col-sm-3">
						<input th:field="${trabajador.apellidoPaterno}" type="text" class="form-control form-control-sm" th:errorclass="'alert-danger'" />
						<small class="form-text text-danger" th:if="${#fields.hasErrors('apellidoPaterno')}" th:errors="*{apellidoPaterno}"></small>
					</div>
				</div>
				<div class="form-group row justify-content-center mb-1">
					<label class="col-sm-2 form-label">Apellido Materno</label>
					<div class="col-sm-3">
						<input th:field="${trabajador.apellidoMaterno}" type="text" class="form-control form-control-sm" th:errorclass="'alert-danger'" />
						<small class="form-text text-danger" th:if="${#fields.hasErrors('apellidoMaterno')}" th:errors="*{apellidoMaterno}"></small>
					</div>
				</div>
				<div class="form-group row justify-content-center mb-1">
					<label class="col-sm-2 form-label">Direccion</label>
					<div class="col-sm-3">
						<input th:field="${trabajador.direccion}" type="text" class="form-control form-control-sm" th:errorclass="'alert-danger'" />
						<small class="form-text text-danger" th:if="${#fields.hasErrors('direccion')}" th:errors="*{direccion}"></small>
					</div>
				</div>
				<div class="form-group row justify-content-center mb-1">
					<label class="col-sm-2 form-label">Empresa</label>
					<div class="col-sm-3">
						<select class="form-select form-select-sm" id="cbEmpresa" th:field="${trabajador.empresa}" th:errorclass="'form-control alert-danger'">
							<option value="">Seleccione ...</option>
							<option th:each="emp: ${empresas}" th:text="${emp.razonSocial}" th:value="${emp.id}"></option>
						</select>
						<small class="form-text text-danger" th:if="${#fields.hasErrors('empresa')}" th:errors="*{empresa}"></small>
					</div>
				</div>
				
			</div>

			<br>


			<div class="form-group row justify-content-center mb-1">
				<div class="col-sm-4 text-center">
					<a th:href="@{/trabajadores}" class="btn btn-success col-4"> <i class="bi bi-arrow-return-left"></i> Volver</a>
					<button class="btn btn-primary col-4" type="submit"><span th:text="${btn}"></span></button>
				</div>
			</div>

			<input type="hidden" th:field="*{empresa.id}" id="idEmpresa" />

		</form>

	</div>


	<footer th:replace="layout/layout :: footer"></footer>
	<script th:src="@{/js/dev.js}"></script>

</body>

</html>